<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/car-favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#667eea" />
  <meta name="description" content="แอปเทียบราคารถยนต์ที่ดีที่สุด - ค้นหา เปรียบเทียบ และเลือกรถในฝันของคุณได้ง่ายๆ" />
  <meta name="keywords" content="รถยนต์, เทียบราคา, ราคารถ, รถใหม่, รถมือสอง, Honda, Toyota, Mazda" />
  <meta name="author" content="Car Search App Team" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://car-search-app.com/" />
  <meta property="og:title" content="Car Search App - เทียบราคารถยนต์" />
  <meta property="og:description" content="แอปเทียบราคารถยนต์ที่ดีที่สุด ค้นหาและเปรียบเทียบราคารถได้ง่ายๆ" />
  <meta property="og:image" content="%PUBLIC_URL%/car-og-image.jpg" />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://car-search-app.com/" />
  <meta property="twitter:title" content="Car Search App - เทียบราคารถยนต์" />
  <meta property="twitter:description" content="แอปเทียบราคารถยนต์ที่ดีที่สุด ค้นหาและเปรียบเทียบราคารถได้ง่ายๆ" />
  <meta property="twitter:image" content="%PUBLIC_URL%/car-og-image.jpg" />

  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" sizes="180x180" href="%PUBLIC_URL%/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="%PUBLIC_URL%/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="%PUBLIC_URL%/favicon-16x16.png" />

  <!-- PWA Manifest -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

  <!-- Preconnect to external domains -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  
  <!-- Google Fonts - Kanit for Thai support -->
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
  
  <!-- CSS Variables for theme -->
  <style>
    :root {
      --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --primary-color: #667eea;
      --secondary-color: #764ba2;
      --text-primary: #2d3748;
      --text-secondary: #4a5568;
      --background-light: #f8fafc;
      --shadow-light: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-medium: 0 8px 24px rgba(0, 0, 0, 0.12);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Kanit', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      background-color: var(--background-light);
      color: var(--text-primary);
      line-height: 1.6;
    }

    code {
      font-family: 'Fira Code', source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
    }

    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--primary-gradient);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .loading-logo {
      width: 80px;
      height: 80px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    .loading-text {
      color: white;
      font-size: 1.2rem;
      font-weight: 500;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Scroll to top button */
    .scroll-to-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 50px;
      height: 50px;
      background: var(--primary-gradient);
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: var(--shadow-medium);
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .scroll-to-top:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
    }

    .scroll-to-top.show {
      display: flex;
    }

    /* Error boundary styles */
    .error-boundary {
      padding: 40px;
      text-align: center;
      background: white;
      border-radius: 16px;
      margin: 20px;
      box-shadow: var(--shadow-light);
    }

    .error-boundary h2 {
      color: #e53e3e;
      margin-bottom: 16px;
    }

    .error-boundary p {
      color: var(--text-secondary);
      margin-bottom: 20px;
    }

    .error-boundary button {
      background: var(--primary-gradient);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
    }

    /* Accessibility improvements */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :root {
        --primary-color: #000080;
        --text-primary: #000000;
        --text-secondary: #333333;
      }
    }

    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>

  <title>Car Search App - เทียบราคารถยนต์ออนไลน์</title>
</head>

<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-logo"></div>
    <div class="loading-text">กำลังโหลด...</div>
  </div>

  <!-- No JavaScript fallback -->
  <noscript>
    <div style="padding: 40px; text-align: center; background: white; margin: 20px; border-radius: 16px;">
      <h2>กรุณาเปิดใช้งาน JavaScript</h2>
      <p>แอปนี้ต้องใช้ JavaScript ในการทำงาน กรุณาเปิดใช้งาน JavaScript ในเบราว์เซอร์ของคุณ</p>
    </div>
  </noscript>

  <!-- Main App Container -->
  <div id="root">
    <!-- App will be rendered here -->
  </div>

  <!-- Scroll to top button -->
  <button id="scroll-to-top" class="scroll-to-top" aria-label="เลื่อนขึ้นด้านบน">
    ↑
  </button>

  <!-- JavaScript for loading screen and scroll behavior -->
  <script>
    // Hide loading screen when page is loaded
    window.addEventListener('load', function() {
      setTimeout(function() {
        const loadingScreen = document.getElementById('loading-screen');
        if (loadingScreen) {
          loadingScreen.classList.add('hidden');
          setTimeout(() => {
            loadingScreen.style.display = 'none';
          }, 500);
        }
      }, 1000);
    });

    // Scroll to top functionality
    const scrollToTopButton = document.getElementById('scroll-to-top');
    
    window.addEventListener('scroll', function() {
      if (window.pageYOffset > 300) {
        scrollToTopButton.classList.add('show');
      } else {
        scrollToTopButton.classList.remove('show');
      }
    });

    scrollToTopButton.addEventListener('click', function() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Service Worker registration for PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js')
          .then(function(registration) {
            console.log('SW registered: ', registration);
          })
          .catch(function(registrationError) {
            console.log('SW registration failed: ', registrationError);
          });
      });
    }

    // Error handling
    window.addEventListener('error', function(e) {
      console.error('Global error:', e.error);
    });

    window.addEventListener('unhandledrejection', function(e) {
      console.error('Unhandled promise rejection:', e.reason);
    });
  </script>
</body>
</html>